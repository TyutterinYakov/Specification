{"openapi":"3.0.1","info":{"title":"\"Cake Market\" API сервер","description":"Documentation \"Cake Market\" API v1.0","version":"1.0"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"tags":[{"name":"Категории","description":"API для работы с категориями"},{"name":"Заказы","description":"API для работы с заказами"},{"name":"Корзина","description":"API для работы с корзиной"},{"name":"Продукты","description":"API для работы с продуктами"}],"paths":{"/admin/products":{"put":{"tags":["Продукты"],"summary":"Изменение продукта(для администратора)","description":"Обратите внимание: продукт без категории не может существовать","operationId":"update","requestBody":{"description":"Данные измененяемого продукта","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}},"required":true},"responses":{"200":{"description":"Продукт обновлен"}}},"post":{"tags":["Продукты"],"summary":"Добавление нового продукта(для администратора)","description":"Обратите внимание: продукт без категории не может существовать","operationId":"create_1","requestBody":{"description":"Данные добавляемого продукта","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}},"required":true},"responses":{"201":{"description":"Продукт добавлен"}}}},"/admin/categories":{"put":{"tags":["Категории"],"summary":"Обновление категории(для администратора)","description":"Обратите внимание: имя категории должно быть уникальным","operationId":"update_1","requestBody":{"description":"Данные категории для изменения","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}},"required":true},"responses":{"200":{"description":"Категория обновлена"}}},"post":{"tags":["Категории"],"summary":"Добавление новой категории(для администратора)","description":"Обратите внимание: имя категории должно быть уникальным","operationId":"create_2","requestBody":{"description":"Данные добавляемой категории","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}},"required":true},"responses":{"201":{"description":"Категория добавлена"}}}},"/orders":{"post":{"tags":["Заказы"],"summary":"Создание заказа","description":"Обратите внимание: При создании заказа корзина должна быть очищена","operationId":"create","requestBody":{"description":"Данные добавляемого заказа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderDto"}}},"required":true},"responses":{"201":{"description":"Заказ создан"}}}},"/carts/{id}":{"post":{"tags":["Корзина"],"summary":"Добавление продукта в корзину","description":"Обратите внимание: Обновляется именно количество(quantity), при первом добавлении оно 1, но потом просто увеличивается. Дублирования продуктов в корзине быть не должно","operationId":"addProductToCart","parameters":[{"name":"id","in":"path","description":"идентификатор продукта","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Продукт добавлен в корзину"},"201":{"description":"Created"}}},"delete":{"tags":["Корзина"],"summary":"Удаление продукта из корзины","description":"Обратите внимание: Обновляется именно количество(quantity), пока оно не станет 0, только тогда и удаляем)","operationId":"deleteProductFromCart","parameters":[{"name":"id","in":"path","description":"идентификатор продукта","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Продукт удален из корзины"}}}},"/products":{"get":{"tags":["Продукты"],"summary":"Получение всех продуктов","operationId":"getAll","responses":{"200":{"description":"Продукты найдены","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductDto"}}}}}}}},"/products/{id}":{"get":{"tags":["Продукты"],"summary":"Получение продукта","operationId":"getById","parameters":[{"name":"id","in":"path","description":"идентификатор продукта","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Продукт найден","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}}}}}},"/categories":{"get":{"tags":["Категории"],"summary":"Получение всех категорий","operationId":"getAll_1","responses":{"200":{"description":"Категории найдены","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryDto"}}}}}}}},"/categories/{id}":{"get":{"tags":["Категории"],"summary":"Получение категории","operationId":"getById_1","parameters":[{"name":"id","in":"path","description":"идентификатор категории","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Категория найдена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}}}}},"/categories/{id}/products":{"get":{"tags":["Категории"],"summary":"Получение всех продуктов категории","operationId":"getProductsByCategoryId","parameters":[{"name":"id","in":"path","description":"идентификатор категории","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Продукты найдены","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductDto"}}}}}}}},"/cart":{"get":{"tags":["Корзина"],"summary":"Получение корзины","operationId":"getCart","responses":{"200":{"description":"Корзина получена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}}}},"/admin/orders":{"get":{"tags":["Заказы"],"summary":"Получение всех заказов(для администратора)","operationId":"getAll_2","responses":{"200":{"description":"Заказы получены","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderInfoDto"}}}}}}}},"/admin/orders/{id}":{"get":{"tags":["Заказы"],"summary":"Получение заказа(для администратора)","operationId":"getById_2","parameters":[{"name":"id","in":"path","description":"идентификатор заказа","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Заказ получен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderInfoDto"}}}}}},"delete":{"tags":["Заказы"],"summary":"Удаление заказа(для администратора)","operationId":"deleteById_1","parameters":[{"name":"id","in":"path","description":"идентификатор заказа","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Заказ удален"}}}},"/admin/products/{id}":{"delete":{"tags":["Продукты"],"summary":"Удаление продукта(для администратора)","description":"Обратите внимание: на возвращаемое значение","operationId":"deleteById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"description":"Удаление продукта по идентификатору","content":{"application/json":{"schema":{"type":"string"}}}},"responses":{"200":{"description":"Название изображения продукта, которое следует удалить в модуле View","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/admin/categories/{id}":{"delete":{"tags":["Категории"],"summary":"Удаление категории(для администратора)","description":"Обратите внимание: при удалении категории так же должны быть удалены все относящиеся к ней продукты","operationId":"deleteById_2","parameters":[{"name":"id","in":"path","description":"идентификатор категории","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Коллекция названий изображений продуктов, которые следует удалить в модуле View","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductDto"}}}}}}}}},"components":{"schemas":{"CategoryDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор категории","format":"int64","example":3},"categoryName":{"type":"string","description":"Название категории","example":"Торты"}},"description":"Категория"},"ProductDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор продукта","format":"int64","example":1},"productName":{"type":"string","description":"Название продукта","example":"Молочная девочка"},"price":{"type":"number","description":"Цена","format":"double","example":1350.5},"weight":{"type":"integer","description":"Вес","format":"int32","example":700},"description":{"type":"string","description":"Описание","example":"700"},"imageName":{"type":"string","description":"Название изображения","example":"34434343.png"},"categoryDto":{"$ref":"#/components/schemas/CategoryDto"}},"description":"Представление товара в корзине"},"OrderDto":{"type":"object","properties":{"userName":{"type":"string","description":"ФИО заказчика","example":"Максимов Максим Максимович"},"cityName":{"type":"string","description":"Название города","example":"Санкт-Петербург"},"address":{"type":"string","description":"Адрес доставки","example":"улица Садовая, 35А"},"phone":{"type":"string","description":"Номер телефона заказчика","example":"+79999999999"},"dateOrder":{"type":"string","description":"Дата доставки","format":"date","example":"2020-11-13"},"additionalInfo":{"type":"string","description":"Дополнительная информация","example":"Свяжитесь со мной, пожалуйста, после получения заказа"}},"description":"Создание заказа"},"CartDto":{"type":"object","properties":{"products":{"type":"array","description":"Список ProductCartDto(продукты с их количеством) в корзине","items":{"$ref":"#/components/schemas/ProductCartDto"}},"sum":{"type":"number","description":"Общая сумма рублей товаров в корзине","format":"double","example":330.5},"count":{"type":"integer","description":"Количество уникальных товаров в корзине","format":"int32","example":3},"weight":{"type":"integer","description":"Общий вес всех товаров в корзине","format":"int32","example":3000}},"description":"Корзина"},"ProductCartDto":{"type":"object","properties":{"quantity":{"type":"integer","description":"Количество товара(ProductDto) в корзине","format":"int32","example":7},"productDto":{"$ref":"#/components/schemas/ProductDto"},"weight":{"type":"integer","description":"Общий вес товара","format":"int32"},"sum":{"type":"number","description":"Общая цена товара","format":"double"}},"description":"Представление товара в корзине"},"OrderInfoDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор заказа","format":"int64","example":3},"userName":{"type":"string","description":"ФИО заказчика","example":"Максимов Максим Максимович"},"cityName":{"type":"string","description":"Название города","example":"Санкт-Петербург"},"address":{"type":"string","description":"Адрес доставки","example":"улица Садовая, 35А"},"createOrder":{"type":"string","description":"Дата и время создания заказа","format":"date-time"},"dateOrder":{"type":"string","description":"Дата доставки","format":"date","example":"2020-11-13"},"productsOrder":{"type":"array","description":"Список товаров с их количествами в заказе","items":{"$ref":"#/components/schemas/ProductCartDto"}},"phone":{"type":"string","description":"Номер телефона заказчика","example":"+79999999999"},"additionalInfo":{"type":"string","description":"Дополнительная информация","example":"Свяжитесь со мной, пожалуйста, после получения заказа"},"sum":{"type":"number","description":"Общая сумма товаров в заказе","format":"double","example":1200.5},"weight":{"type":"integer","description":"Общая вес товаров в заказе","format":"int32","example":1500}},"description":"Информация о заказе"}}}}